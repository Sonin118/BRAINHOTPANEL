local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local remote = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RE/AdminPanelService/ExecuteCommand")

local comandos = {
    "ragdoll","balloon","jail","morph","jumpscare","inverse","tiny","rocket",
}

local function executarComandos(playerName)
    if not playerName or playerName == "" then return end
    task.spawn(function()
        for i,cmd in ipairs(comandos) do
            local alvo = Players:FindFirstChild(playerName)
            if alvo then
                if cmd == "rocket" then
                    task.wait(3) -- espera 3s s√≥ antes do rocket
                end
                remote:FireServer(alvo, cmd)
            end
            task.wait(0.5)
        end
    end)
end

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

if playerGui:FindFirstChild("CmdUI") then
    playerGui.CmdUI:Destroy()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CmdUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 310)
frame.Position = UDim2.new(1, -240, 1, -360)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

local scrolling = Instance.new("ScrollingFrame")
scrolling.Size = UDim2.new(1, -10, 1, -10)
scrolling.Position = UDim2.new(0, 5, 0, 5)
scrolling.BackgroundTransparency = 1
scrolling.ScrollBarThickness = 6
scrolling.CanvasSize = UDim2.new(0, 0, 0, 0)
scrolling.AutomaticCanvasSize = Enum.AutomaticSize.Y
scrolling.Parent = frame

local listLayout = Instance.new("UIListLayout")
listLayout.Parent = scrolling
listLayout.Padding = UDim.new(0, 6)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder

local function criarBotao(playerObj)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -6, 0, 32)
    btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    btn.Text = (playerObj.DisplayName ~= "" and playerObj.DisplayName ~= playerObj.Name)
        and playerObj.DisplayName
        or playerObj.Name
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = scrolling

    local cornerBtn = Instance.new("UICorner")
    cornerBtn.CornerRadius = UDim.new(0, 8)
    cornerBtn.Parent = btn

    btn.MouseEnter:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    end)
    btn.MouseLeave:Connect(function()
        btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    end)

    btn.MouseButton1Click:Connect(function()
        executarComandos(playerObj.Name)
    end)
end

local function atualizarLista()
    for _, child in ipairs(scrolling:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end

    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= player then
            criarBotao(p)
        end
    end
end

task.spawn(function()
    while true do
        atualizarLista()
        task.wait(2)
    end
end)

atualizarLista()
